---
title: '[原]hdu5912 简单公式迭代'
tags: []
date: 2016-11-02 10:41:53
---

## 题目链接

[http://acm.hdu.edu.cn/showproblem.php?pid=5912](http://acm.hdu.edu.cn/showproblem.php?pid=5912)

## 代码

    <span class="hljs-preprocessor">#include&lt;iostream&gt;</span>
    <span class="hljs-preprocessor">#include&lt;cstring&gt;</span>
    <span class="hljs-preprocessor">#include&lt;cstdio&gt;</span>
    <span class="hljs-preprocessor">#include&lt;algorithm&gt;</span>

    <span class="hljs-preprocessor">#define ll long long</span>
    <span class="hljs-preprocessor">#define DEBUG printf</span>

    <span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;
    ll GCD(ll aa,ll bb)
    {
        ll i,t;
        <span class="hljs-keyword">if</span>(aa&lt;bb){
            t=aa;
            aa=bb;
            bb=t;
        }
        <span class="hljs-keyword">while</span>(aa%bb!=<span class="hljs-number">0</span>){
            i=aa%bb;
            <span class="hljs-keyword">if</span>(bb&gt;i){
                aa=bb;
                bb=i;
            }
            <span class="hljs-keyword">else</span> aa=i;
        }
        <span class="hljs-keyword">return</span> bb;
     }
    <span class="hljs-keyword">void</span> solve(ll &amp;mu,ll &amp;zi,<span class="hljs-keyword">int</span> *a,<span class="hljs-keyword">int</span> *b,<span class="hljs-keyword">int</span> n){
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=n-<span class="hljs-number">1</span>;i&gt;=<span class="hljs-number">1</span>;i--){
            ll tmp_mu=mu,tmp_zi=zi;
            mu=tmp_zi+tmp_mu*a[i];
            zi=tmp_mu*b[i];
            ll yueshu=GCD(mu,zi);
            mu/=yueshu;
            zi/=yueshu;
            <span class="hljs-comment">//DEBUG("%d:%lld/%lld\n",i,zi,mu);</span>
        }
    }

    <span class="hljs-keyword">int</span> main()
    {
        <span class="hljs-keyword">int</span> t;
        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>,&amp;t);
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> tt=<span class="hljs-number">1</span>;tt&lt;=t;tt++){
            <span class="hljs-keyword">int</span> a[<span class="hljs-number">11</span>],b[<span class="hljs-number">11</span>],n;
            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>,&amp;n);
            <span class="hljs-built_in">memset</span>(a,<span class="hljs-number">0</span>,<span class="hljs-keyword">sizeof</span>(a));
            <span class="hljs-built_in">memset</span>(b,<span class="hljs-number">0</span>,<span class="hljs-keyword">sizeof</span>(b));
            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++){
                <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>,&amp;a[i]);
            }
            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++){
                <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>,&amp;b[i]);
            }
            ll mu=a[n],zi=b[n];
            solve(mu,zi,a,b,n);
            <span class="hljs-keyword">int</span> yueshu = GCD(mu,zi);
            mu/=yueshu;
            zi/=yueshu;
            <span class="hljs-built_in">printf</span>(<span class="hljs-string">"Case #%d: %lld %lld\n"</span>,tt,zi,mu);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
     }
    <span class="hljs-comment">/*
    1
    8
    1 2 3 4 5 6 7 8
    9 8 7 6 5 4 3 2

    */</span>

            <div>
                作者：qq_27803491 发表于2016/11/2 10:41:53 [原文链接](http://blog.csdn.net/qq_27803491/article/details/53005481)
            </div>
            <div>
            阅读：48 评论：0 [查看评论](http://blog.csdn.net/qq_27803491/article/details/53005481#comments)
            </div>